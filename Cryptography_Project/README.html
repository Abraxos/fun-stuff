<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8" />
      <title>README</title>
      <style>.markdown-preview, .markdown-preview[data-use-github-style] { font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 1.6; word-wrap: break-word; overflow: scroll; box-sizing: border-box; padding: 20px; background-color: rgb(255, 255, 255); }
.markdown-preview > :first-child, .markdown-preview[data-use-github-style] > :first-child { margin-top: 0px !important; }
.markdown-preview > :last-child, .markdown-preview[data-use-github-style] > :last-child { margin-bottom: 0px !important; }
.markdown-preview a:not([href]), .markdown-preview[data-use-github-style] a:not([href]) { color: inherit; text-decoration: none; }
.markdown-preview .absent, .markdown-preview[data-use-github-style] .absent { color: rgb(204, 0, 0); }
.markdown-preview .anchor, .markdown-preview[data-use-github-style] .anchor { position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; }
.markdown-preview .anchor:focus, .markdown-preview[data-use-github-style] .anchor:focus { outline: none; }
.markdown-preview h1, .markdown-preview[data-use-github-style] h1, .markdown-preview h2, .markdown-preview[data-use-github-style] h2, .markdown-preview h3, .markdown-preview[data-use-github-style] h3, .markdown-preview h4, .markdown-preview[data-use-github-style] h4, .markdown-preview h5, .markdown-preview[data-use-github-style] h5, .markdown-preview h6, .markdown-preview[data-use-github-style] h6 { position: relative; margin-top: 1em; margin-bottom: 16px; font-weight: bold; line-height: 1.4; }
.markdown-preview h1 .octicon-link, .markdown-preview[data-use-github-style] h1 .octicon-link, .markdown-preview h2 .octicon-link, .markdown-preview[data-use-github-style] h2 .octicon-link, .markdown-preview h3 .octicon-link, .markdown-preview[data-use-github-style] h3 .octicon-link, .markdown-preview h4 .octicon-link, .markdown-preview[data-use-github-style] h4 .octicon-link, .markdown-preview h5 .octicon-link, .markdown-preview[data-use-github-style] h5 .octicon-link, .markdown-preview h6 .octicon-link, .markdown-preview[data-use-github-style] h6 .octicon-link { display: none; color: rgb(0, 0, 0); vertical-align: middle; }
.markdown-preview h1:hover .anchor, .markdown-preview[data-use-github-style] h1:hover .anchor, .markdown-preview h2:hover .anchor, .markdown-preview[data-use-github-style] h2:hover .anchor, .markdown-preview h3:hover .anchor, .markdown-preview[data-use-github-style] h3:hover .anchor, .markdown-preview h4:hover .anchor, .markdown-preview[data-use-github-style] h4:hover .anchor, .markdown-preview h5:hover .anchor, .markdown-preview[data-use-github-style] h5:hover .anchor, .markdown-preview h6:hover .anchor, .markdown-preview[data-use-github-style] h6:hover .anchor { padding-left: 8px; margin-left: -30px; text-decoration: none; }
.markdown-preview h1:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h1:hover .anchor .octicon-link, .markdown-preview h2:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h2:hover .anchor .octicon-link, .markdown-preview h3:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h3:hover .anchor .octicon-link, .markdown-preview h4:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h4:hover .anchor .octicon-link, .markdown-preview h5:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h5:hover .anchor .octicon-link, .markdown-preview h6:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h6:hover .anchor .octicon-link { display: inline-block; }
.markdown-preview h1 tt, .markdown-preview[data-use-github-style] h1 tt, .markdown-preview h2 tt, .markdown-preview[data-use-github-style] h2 tt, .markdown-preview h3 tt, .markdown-preview[data-use-github-style] h3 tt, .markdown-preview h4 tt, .markdown-preview[data-use-github-style] h4 tt, .markdown-preview h5 tt, .markdown-preview[data-use-github-style] h5 tt, .markdown-preview h6 tt, .markdown-preview[data-use-github-style] h6 tt, .markdown-preview h1 code, .markdown-preview[data-use-github-style] h1 code, .markdown-preview h2 code, .markdown-preview[data-use-github-style] h2 code, .markdown-preview h3 code, .markdown-preview[data-use-github-style] h3 code, .markdown-preview h4 code, .markdown-preview[data-use-github-style] h4 code, .markdown-preview h5 code, .markdown-preview[data-use-github-style] h5 code, .markdown-preview h6 code, .markdown-preview[data-use-github-style] h6 code { font-size: inherit; }
.markdown-preview h1, .markdown-preview[data-use-github-style] h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); }
.markdown-preview h1 .anchor, .markdown-preview[data-use-github-style] h1 .anchor { line-height: 1; }
.markdown-preview h2, .markdown-preview[data-use-github-style] h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); }
.markdown-preview h2 .anchor, .markdown-preview[data-use-github-style] h2 .anchor { line-height: 1; }
.markdown-preview h3, .markdown-preview[data-use-github-style] h3 { font-size: 1.5em; line-height: 1.43; }
.markdown-preview h3 .anchor, .markdown-preview[data-use-github-style] h3 .anchor { line-height: 1.2; }
.markdown-preview h4, .markdown-preview[data-use-github-style] h4 { font-size: 1.25em; }
.markdown-preview h4 .anchor, .markdown-preview[data-use-github-style] h4 .anchor { line-height: 1.2; }
.markdown-preview h5, .markdown-preview[data-use-github-style] h5 { font-size: 1em; }
.markdown-preview h5 .anchor, .markdown-preview[data-use-github-style] h5 .anchor { line-height: 1.1; }
.markdown-preview h6, .markdown-preview[data-use-github-style] h6 { font-size: 1em; color: rgb(119, 119, 119); }
.markdown-preview h6 .anchor, .markdown-preview[data-use-github-style] h6 .anchor { line-height: 1.1; }
.markdown-preview p, .markdown-preview[data-use-github-style] p, .markdown-preview blockquote, .markdown-preview[data-use-github-style] blockquote, .markdown-preview ul, .markdown-preview[data-use-github-style] ul, .markdown-preview ol, .markdown-preview[data-use-github-style] ol, .markdown-preview dl, .markdown-preview[data-use-github-style] dl, .markdown-preview table, .markdown-preview[data-use-github-style] table, .markdown-preview pre, .markdown-preview[data-use-github-style] pre { margin-top: 0px; margin-bottom: 16px; }
.markdown-preview hr, .markdown-preview[data-use-github-style] hr { height: 4px; padding: 0px; margin: 16px 0px; border: 0px none; background-color: rgb(231, 231, 231); }
.markdown-preview ul, .markdown-preview[data-use-github-style] ul, .markdown-preview ol, .markdown-preview[data-use-github-style] ol { padding-left: 2em; }
.markdown-preview ul.no-list, .markdown-preview[data-use-github-style] ul.no-list, .markdown-preview ol.no-list, .markdown-preview[data-use-github-style] ol.no-list { padding: 0px; list-style-type: none; }
.markdown-preview ul ul, .markdown-preview[data-use-github-style] ul ul, .markdown-preview ul ol, .markdown-preview[data-use-github-style] ul ol, .markdown-preview ol ol, .markdown-preview[data-use-github-style] ol ol, .markdown-preview ol ul, .markdown-preview[data-use-github-style] ol ul { margin-top: 0px; margin-bottom: 0px; }
.markdown-preview li > p, .markdown-preview[data-use-github-style] li > p { margin-top: 16px; }
.markdown-preview dl, .markdown-preview[data-use-github-style] dl { padding: 0px; }
.markdown-preview dl dt, .markdown-preview[data-use-github-style] dl dt { padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold; }
.markdown-preview dl dd, .markdown-preview[data-use-github-style] dl dd { padding: 0px 16px; margin-bottom: 16px; }
.markdown-preview blockquote, .markdown-preview[data-use-github-style] blockquote { padding: 0px 15px; color: rgb(119, 119, 119); border-left-width: 4px; border-left-style: solid; border-left-color: rgb(221, 221, 221); }
.markdown-preview blockquote > :first-child, .markdown-preview[data-use-github-style] blockquote > :first-child { margin-top: 0px; }
.markdown-preview blockquote > :last-child, .markdown-preview[data-use-github-style] blockquote > :last-child { margin-bottom: 0px; }
.markdown-preview table, .markdown-preview[data-use-github-style] table { display: block; width: 100%; overflow: auto; word-break: normal; }
.markdown-preview table th, .markdown-preview[data-use-github-style] table th { font-weight: bold; }
.markdown-preview table th, .markdown-preview[data-use-github-style] table th, .markdown-preview table td, .markdown-preview[data-use-github-style] table td { padding: 6px 13px; border: 1px solid rgb(221, 221, 221); }
.markdown-preview table tr, .markdown-preview[data-use-github-style] table tr { border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204); background-color: rgb(255, 255, 255); }
.markdown-preview table tr:nth-child(2n), .markdown-preview[data-use-github-style] table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
.markdown-preview img, .markdown-preview[data-use-github-style] img { max-width: 100%; box-sizing: border-box; }
.markdown-preview .emoji, .markdown-preview[data-use-github-style] .emoji { max-width: none; }
.markdown-preview span.frame, .markdown-preview[data-use-github-style] span.frame { display: block; overflow: hidden; }
.markdown-preview span.frame > span, .markdown-preview[data-use-github-style] span.frame > span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0px 0px; overflow: hidden; border: 1px solid rgb(221, 221, 221); }
.markdown-preview span.frame span img, .markdown-preview[data-use-github-style] span.frame span img { display: block; float: left; }
.markdown-preview span.frame span span, .markdown-preview[data-use-github-style] span.frame span span { display: block; padding: 5px 0px 0px; clear: both; color: rgb(51, 51, 51); }
.markdown-preview span.align-center, .markdown-preview[data-use-github-style] span.align-center { display: block; overflow: hidden; clear: both; }
.markdown-preview span.align-center > span, .markdown-preview[data-use-github-style] span.align-center > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: center; }
.markdown-preview span.align-center span img, .markdown-preview[data-use-github-style] span.align-center span img { margin: 0px auto; text-align: center; }
.markdown-preview span.align-right, .markdown-preview[data-use-github-style] span.align-right { display: block; overflow: hidden; clear: both; }
.markdown-preview span.align-right > span, .markdown-preview[data-use-github-style] span.align-right > span { display: block; margin: 13px 0px 0px; overflow: hidden; text-align: right; }
.markdown-preview span.align-right span img, .markdown-preview[data-use-github-style] span.align-right span img { margin: 0px; text-align: right; }
.markdown-preview span.float-left, .markdown-preview[data-use-github-style] span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; }
.markdown-preview span.float-left span, .markdown-preview[data-use-github-style] span.float-left span { margin: 13px 0px 0px; }
.markdown-preview span.float-right, .markdown-preview[data-use-github-style] span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; }
.markdown-preview span.float-right > span, .markdown-preview[data-use-github-style] span.float-right > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: right; }
.markdown-preview code, .markdown-preview[data-use-github-style] code, .markdown-preview tt, .markdown-preview[data-use-github-style] tt { padding: 0.2em 0px; margin: 0px; font-size: 85%; border-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157); }
.markdown-preview code::before, .markdown-preview[data-use-github-style] code::before, .markdown-preview tt::before, .markdown-preview[data-use-github-style] tt::before, .markdown-preview code::after, .markdown-preview[data-use-github-style] code::after, .markdown-preview tt::after, .markdown-preview[data-use-github-style] tt::after { letter-spacing: -0.2em; content: ' '; }
.markdown-preview code br, .markdown-preview[data-use-github-style] code br, .markdown-preview tt br, .markdown-preview[data-use-github-style] tt br { display: none; }
.markdown-preview del code, .markdown-preview[data-use-github-style] del code { text-decoration: inherit; }
.markdown-preview pre > code, .markdown-preview[data-use-github-style] pre > code { padding: 0px; margin: 0px; font-size: 100%; word-break: normal; white-space: pre; border: 0px; background: transparent; }
.markdown-preview .highlight, .markdown-preview[data-use-github-style] .highlight { margin-bottom: 16px; }
.markdown-preview .highlight pre, .markdown-preview[data-use-github-style] .highlight pre, .markdown-preview pre, .markdown-preview[data-use-github-style] pre { padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; border-radius: 3px; background-color: rgb(247, 247, 247); }
.markdown-preview .highlight pre, .markdown-preview[data-use-github-style] .highlight pre { margin-bottom: 0px; word-break: normal; }
.markdown-preview pre, .markdown-preview[data-use-github-style] pre { word-wrap: normal; }
.markdown-preview pre code, .markdown-preview[data-use-github-style] pre code, .markdown-preview pre tt, .markdown-preview[data-use-github-style] pre tt { display: inline; max-width: initial; padding: 0px; margin: 0px; overflow: initial; line-height: inherit; word-wrap: normal; border: 0px; background-color: transparent; }
.markdown-preview pre code::before, .markdown-preview[data-use-github-style] pre code::before, .markdown-preview pre tt::before, .markdown-preview[data-use-github-style] pre tt::before, .markdown-preview pre code::after, .markdown-preview[data-use-github-style] pre code::after, .markdown-preview pre tt::after, .markdown-preview[data-use-github-style] pre tt::after { content: normal; }
.markdown-preview kbd, .markdown-preview[data-use-github-style] kbd { display: inline-block; padding: 3px 5px; font-size: 11px; line-height: 10px; color: rgb(85, 85, 85); vertical-align: middle; border-style: solid; border-width: 1px; border-color: rgb(204, 204, 204) rgb(204, 204, 204) rgb(187, 187, 187); border-radius: 3px; box-shadow: rgb(187, 187, 187) 0px -1px 0px inset; background-color: rgb(252, 252, 252); }
.markdown-preview, .markdown-preview[data-use-github-style], .markdown-preview code, .markdown-preview[data-use-github-style] code { color: rgb(51, 51, 51); }
.markdown-preview h1, .markdown-preview[data-use-github-style] h1, .markdown-preview h2, .markdown-preview[data-use-github-style] h2, .markdown-preview h3, .markdown-preview[data-use-github-style] h3, .markdown-preview h4, .markdown-preview[data-use-github-style] h4, .markdown-preview h5, .markdown-preview[data-use-github-style] h5, .markdown-preview h6, .markdown-preview[data-use-github-style] h6 { -webkit-font-smoothing: antialiased; cursor: text; }
.markdown-preview > h1:first-child, .markdown-preview[data-use-github-style] > h1:first-child, .markdown-preview > h1:first-child + h2, .markdown-preview[data-use-github-style] > h1:first-child + h2, .markdown-preview > h2:first-child, .markdown-preview[data-use-github-style] > h2:first-child, .markdown-preview > h3:first-child, .markdown-preview[data-use-github-style] > h3:first-child, .markdown-preview > h4:first-child, .markdown-preview[data-use-github-style] > h4:first-child, .markdown-preview > h5:first-child, .markdown-preview[data-use-github-style] > h5:first-child, .markdown-preview > h6:first-child, .markdown-preview[data-use-github-style] > h6:first-child { margin-top: 0px; padding-top: 0px; }
.markdown-preview a, .markdown-preview[data-use-github-style] a, .markdown-preview a code, .markdown-preview[data-use-github-style] a code { color: rgb(65, 131, 196); }
.markdown-preview a:first-child h1, .markdown-preview[data-use-github-style] a:first-child h1, .markdown-preview a:first-child h2, .markdown-preview[data-use-github-style] a:first-child h2, .markdown-preview a:first-child h3, .markdown-preview[data-use-github-style] a:first-child h3, .markdown-preview a:first-child h4, .markdown-preview[data-use-github-style] a:first-child h4, .markdown-preview a:first-child h5, .markdown-preview[data-use-github-style] a:first-child h5, .markdown-preview a:first-child h6, .markdown-preview[data-use-github-style] a:first-child h6 { margin-top: 0px; padding-top: 0px; }
.markdown-preview h1 + p, .markdown-preview[data-use-github-style] h1 + p, .markdown-preview h2 + p, .markdown-preview[data-use-github-style] h2 + p, .markdown-preview h3 + p, .markdown-preview[data-use-github-style] h3 + p, .markdown-preview h4 + p, .markdown-preview[data-use-github-style] h4 + p, .markdown-preview h5 + p, .markdown-preview[data-use-github-style] h5 + p, .markdown-preview h6 + p, .markdown-preview[data-use-github-style] h6 + p { margin-top: 0px; }
.markdown-preview li p.first, .markdown-preview[data-use-github-style] li p.first { display: inline-block; }
.markdown-preview ul li > :first-child, .markdown-preview[data-use-github-style] ul li > :first-child, .markdown-preview ol li > :first-child, .markdown-preview[data-use-github-style] ol li > :first-child, .markdown-preview ul li ul:first-of-type, .markdown-preview[data-use-github-style] ul li ul:first-of-type, .markdown-preview ol li ul:first-of-type, .markdown-preview[data-use-github-style] ol li ul:first-of-type { margin-top: 0px; }
.markdown-preview ol > li, .markdown-preview[data-use-github-style] ol > li { list-style-type: decimal; }
.markdown-preview ul > li, .markdown-preview[data-use-github-style] ul > li { list-style-type: disc; }
.markdown-preview dl dt:first-child, .markdown-preview[data-use-github-style] dl dt:first-child { padding: 0px; }
.markdown-preview dl dt > :first-child, .markdown-preview[data-use-github-style] dl dt > :first-child { margin-top: 0px; }
.markdown-preview dl dt > :last-child, .markdown-preview[data-use-github-style] dl dt > :last-child { margin-bottom: 0px; }
.markdown-preview dl dd > :first-child, .markdown-preview[data-use-github-style] dl dd > :first-child { margin-top: 0px; }
.markdown-preview dl dd > :last-child, .markdown-preview[data-use-github-style] dl dd > :last-child { margin-bottom: 0px; }
.markdown-preview blockquote p, .markdown-preview[data-use-github-style] blockquote p { font-size: 16px; line-height: 1.5; }
.markdown-preview pre.editor-colors, .markdown-preview[data-use-github-style] pre.editor-colors { padding: 16px; overflow: auto; font-size: 84%; line-height: 1.45; border-radius: 3px; background-color: rgb(40, 44, 52); }
.markdown-preview pre.editor-colors, .markdown-preview[data-use-github-style] pre.editor-colors { margin-bottom: 16px; word-break: normal; }
.markdown-preview code, .markdown-preview[data-use-github-style] code, .markdown-preview tt, .markdown-preview[data-use-github-style] tt, .markdown-preview pre.editor-colors, .markdown-preview[data-use-github-style] pre.editor-colors { font-family: Consolas, 'Liberation Mono', Courier, monospace; }
.markdown-preview .emoji, .markdown-preview[data-use-github-style] .emoji { height: 20px; width: 20px; }
.markdown-preview { font-size: 1.25em; color: rgb(200, 204, 213); background-color: rgb(47, 51, 61); }
.markdown-preview h1, .markdown-preview h2 { color: inherit; border-color: rgb(24, 26, 31); }
.markdown-preview a { color: rgb(100, 148, 237); }
.markdown-preview hr { background-color: rgb(67, 73, 86); }
.markdown-preview blockquote { color: rgb(157, 165, 180); border-left-color: rgba(157, 165, 180, 0.6); }
.markdown-preview table th, .markdown-preview table td { border-color: rgb(24, 26, 31); }
.markdown-preview table th { background-color: rgb(53, 59, 69); }
.markdown-preview table tr { background-color: rgb(47, 51, 61); }
.markdown-preview table tr:nth-child(2n) { background-color: rgb(40, 44, 52); }
.markdown-preview code { color: rgb(243, 244, 246); border-color: rgb(24, 26, 31); background-color: rgb(62, 68, 81); background-clip: padding-box; }
.markdown-preview pre.editor-colors::shadow .line.cursor-line { background-color: transparent; }
.bracket-matcher .region {
  border-bottom: 1px dotted lime;
  position: absolute;
}

.spell-check-misspelling .region {
  border-bottom: 1px dashed rgba(250, 128, 114, 0.5);
}

pre.editor-colors,
.host {
  background-color: #282c34;
  color: #abb2bf;
}
pre.editor-colors .line.cursor-line,
.host .line.cursor-line {
  background-color: rgba(153, 187, 255, 0.04);
}
pre.editor-colors .invisible,
.host .invisible {
  color: #abb2bf;
}
pre.editor-colors .cursor,
.host .cursor {
  border-left: 2px solid #528bff;
}
pre.editor-colors .selection .region,
.host .selection .region {
  background-color: #3e4451;
}
pre.editor-colors .bracket-matcher .region,
.host .bracket-matcher .region {
  border-bottom: 1px solid #528bff;
  box-sizing: border-box;
  background-color: #353b45;
}
pre.editor-colors .invisible-character,
.host .invisible-character {
  color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .indent-guide,
.host .indent-guide {
  color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .wrap-guide,
.host .wrap-guide {
  background-color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .gutter .line-number,
.host .gutter .line-number {
  color: #636d83;
  -webkit-font-smoothing: antialiased;
}
pre.editor-colors .gutter .line-number.git-line-removed:before,
.host .gutter .line-number.git-line-removed:before {
  bottom: -3px;
}
pre.editor-colors .gutter .line-number.git-line-removed:after,
.host .gutter .line-number.git-line-removed:after {
  content: "";
  position: absolute;
  left: 0px;
  bottom: 0px;
  width: 25px;
  border-bottom: 1px dotted rgba(224, 82, 82, 0.5);
  pointer-events: none;
}
pre.editor-colors .gutter .line-number.cursor-line,
.host .gutter .line-number.cursor-line {
  color: #abb2bf;
  background-color: #2c313a;
}
pre.editor-colors .gutter .line-number.cursor-line-no-selection,
.host .gutter .line-number.cursor-line-no-selection {
  background-color: transparent;
}
pre.editor-colors .gutter .line-number .icon-right,
.host .gutter .line-number .icon-right {
  color: #abb2bf;
}
pre.editor-colors .gutter .line-number .icon-right,
.host .gutter .line-number .icon-right {
  color: #abb2bf;
}
pre.editor-colors .gutter .line-number.folded,
.host .gutter .line-number.folded,
pre.editor-colors .gutter .line-number:after,
.host .gutter .line-number:after,
pre.editor-colors .fold-marker:after,
.host .fold-marker:after {
  color: #abb2bf;
}
.comment {
  color: #5c6370;
  font-style: italic;
}
.entity.name.type {
  color: #e5c07b;
}
.entity.other.inherited-class {
  color: #98c379;
}
.keyword {
  color: #c678dd;
}
.keyword.control {
  color: #c678dd;
}
.keyword.operator {
  color: #abb2bf;
}
.keyword.other.special-method {
  color: #61afef;
}
.keyword.other.unit {
  color: #d19a66;
}
.storage {
  color: #c678dd;
}
.storage.type.annotation,
.storage.type.primitive {
  color: #c678dd;
}
.storage.modifier.package,
.storage.modifier.import {
  color: #abb2bf;
}
.constant {
  color: #d19a66;
}
.constant.variable {
  color: #d19a66;
}
.constant.character.escape {
  color: #56b6c2;
}
.constant.numeric {
  color: #d19a66;
}
.constant.other.color {
  color: #56b6c2;
}
.constant.other.symbol {
  color: #56b6c2;
}
.variable {
  color: #e06c75;
}
.variable.interpolation {
  color: #be5046;
}
.variable.parameter {
  color: #abb2bf;
}
.invalid.illegal {
  background-color: #e06c75;
  color: #282c34;
}
.string {
  color: #98c379;
}
.string.regexp {
  color: #56b6c2;
}
.string.regexp .source.ruby.embedded {
  color: #e5c07b;
}
.string.other.link {
  color: #e06c75;
}
.punctuation.definition.comment {
  color: #5c6370;
}
.punctuation.definition.method-parameters,
.punctuation.definition.function-parameters,
.punctuation.definition.parameters,
.punctuation.definition.separator,
.punctuation.definition.seperator,
.punctuation.definition.array {
  color: #abb2bf;
}
.punctuation.definition.heading,
.punctuation.definition.identity {
  color: #61afef;
}
.punctuation.definition.bold {
  color: #e5c07b;
  font-weight: bold;
}
.punctuation.definition.italic {
  color: #c678dd;
  font-style: italic;
}
.punctuation.section.embedded {
  color: #be5046;
}
.punctuation.section.method,
.punctuation.section.class,
.punctuation.section.inner-class {
  color: #abb2bf;
}
.support.class {
  color: #e5c07b;
}
.support.type {
  color: #56b6c2;
}
.support.function {
  color: #56b6c2;
}
.support.function.any-method {
  color: #61afef;
}
.entity.name.function {
  color: #61afef;
}
.entity.name.class,
.entity.name.type.class {
  color: #e5c07b;
}
.entity.name.section {
  color: #61afef;
}
.entity.name.tag {
  color: #e06c75;
}
.entity.other.attribute-name {
  color: #d19a66;
}
.entity.other.attribute-name.id {
  color: #61afef;
}
.meta.class {
  color: #e5c07b;
}
.meta.class.body {
  color: #abb2bf;
}
.meta.method-call,
.meta.method {
  color: #abb2bf;
}
.meta.definition.variable {
  color: #e06c75;
}
.meta.link {
  color: #d19a66;
}
.meta.require {
  color: #61afef;
}
.meta.selector {
  color: #c678dd;
}
.meta.separator {
  background-color: #373b41;
  color: #abb2bf;
}
.meta.tag {
  color: #abb2bf;
}
.none {
  color: #abb2bf;
}
.markup.bold {
  color: #d19a66;
  font-weight: bold;
}
.markup.changed {
  color: #c678dd;
}
.markup.deleted {
  color: #e06c75;
}
.markup.italic {
  color: #c678dd;
  font-style: italic;
}
.markup.heading .punctuation.definition.heading {
  color: #61afef;
}
.markup.inserted {
  color: #98c379;
}
.markup.list {
  color: #e06c75;
}
.markup.quote {
  color: #d19a66;
}
.markup.raw.inline {
  color: #98c379;
}
.source.cs .keyword.operator {
  color: #c678dd;
}
.source.css .property-name,
.source.css .property-value {
  color: #828997;
}
.source.css .property-name.support,
.source.css .property-value.support {
  color: #abb2bf;
}
.source.gfm .markup {
  -webkit-font-smoothing: auto;
}
.source.gfm .markup.heading {
  color: #e06c75;
}
.source.gfm .markup.link {
  color: #c678dd;
}
.source.gfm .link .entity {
  color: #61afef;
}
.source.ini .keyword.other.definition.ini {
  color: #e06c75;
}
.source.java .storage.modifier.import {
  color: #e5c07b;
}
.source.java .storage.type {
  color: #e5c07b;
}
.source.java-properties .meta.key-pair {
  color: #e06c75;
}
.source.java-properties .meta.key-pair > .punctuation {
  color: #abb2bf;
}
.source.json .meta.structure.dictionary.json > .string.quoted.json {
  color: #e06c75;
}
.source.json .meta.structure.dictionary.json > .string.quoted.json > .punctuation.string {
  color: #e06c75;
}
.source.json .meta.structure.dictionary.json > .value.json > .string.quoted.json,
.source.json .meta.structure.array.json > .value.json > .string.quoted.json,
.source.json .meta.structure.dictionary.json > .value.json > .string.quoted.json > .punctuation,
.source.json .meta.structure.array.json > .value.json > .string.quoted.json > .punctuation {
  color: #98c379;
}
.source.json .meta.structure.dictionary.json > .constant.language.json,
.source.json .meta.structure.array.json > .constant.language.json {
  color: #56b6c2;
}
.source.ruby .constant.other.symbol > .punctuation {
  color: inherit;
}
.source.python .keyword.operator.logical.python {
  color: #c678dd;
}
.source.python .variable.parameter {
  color: #d19a66;
}
</style>
  </head>
  <body class='markdown-preview'><h1 id="introduction-to-modern-cryptography-graduate-project">Introduction to Modern Cryptography - Graduate Project</h1>
<p><em>by Eugene Kovalev</em></p>
<p>NOTE: This program, as well as all dependencies, was written, installed, and tested on Debian Jessie. Consequently this readme was written assuming the same operating system is used. I cannot guarantee the same instructions will work the same way on other systems.</p>
<p>This submission comes with an optional VM image which can be downloaded here as a bzip of a qcow2 img file: <a href="https://goo.gl/Sm7N5P">https://goo.gl/Sm7N5P</a> It was created by the program QEMU/Gnome Boxes which should be easy to install on a Linux system: <code>sudo apt-get install gnome-boxes</code>. The image can also easily be converted to any other format: <a href="https://en.wikibooks.org/wiki/QEMU/Images">https://en.wikibooks.org/wiki/QEMU/Images</a>. The VM is already set up to run the project. When booted it will automatically log in as the user <code>cryptographer</code> (if it does not, the password is identical to the enrollment key for the course that was emailed out before the start of the semester). The project is located in the <code>Crypto_Project</code> directory on the desktop and the final build products are available in the <code>Crypto_Project/build</code> directory.</p>
<h2 id="project-description">Project Description</h2>
<p>The project has several files and folders and are listed below along with their descriptions:</p>
<ol>
<li><p><code>build</code> - This is the directory inside of which the executables will be produced. This is described in the <strong>Building</strong> section.</p>
</li>
<li><p><code>cmake</code> - This folder contains several module files for the CMake build system. You should not have to look into or modify anything inside of this folder.</p>
</li>
<li><p><code>ap_int.c</code> - This is the core file inside of which all the required functionality of this library is implemented.</p>
</li>
<li><p><code>ap_int.h</code> - This is the header file that describes the functionality of everything inside <code>ap_int.c</code>.</p>
</li>
<li><p><code>ap_int_tests.c</code> - This is the most important file of the project. It contains unit tests that confirm the functionality of the library as well as examples of how to use it. To confirm for yourself that the project functions as required, you should compile and execute the testing executable that is based on this file. This is described in detail in the <strong>Testing</strong> section. Anything inside this file will be compiled into the <code>Test_Crypto_Project</code> executable.</p>
</li>
<li><p><code>CMakeLists.txt</code> - This is the cmake build system configuration file. It should only be edited if you wish to compile with debugging symbols (described in the <strong>Testing Memory Consumption and Leaks</strong> section).</p>
</li>
<li><p><code>crypto_project.c</code> - This is the &quot;main&quot; executable of the project. It doesn&#39;t really have anything in it. The intention is to allow the grader to put whatever code they want in there to verify the functionality of the program without having to run the unit tests. Please note that for best results you should really run the unit tests and comment out the ones you don&#39;t need. Anything in this file will be compiled into the <code>Crypto_Project</code> executable.</p>
</li>
<li><p><code>utils.c</code> - Basic utility functions.</p>
</li>
<li><p><code>utils.h</code> - Header for the above file.</p>
</li>
</ol>
<h2 id="building">Building</h2>
<h3 id="requirements-">Requirements:</h3>
<ol>
<li>cmake: <code>$ sudo apt-get install cmake</code>. Please note that this project requires cmake version 3.0 or above which should come with the current Debian and Ubuntu package managers.</li>
<li>cmocka - required for testing, but not required for running. Installation procedure described below in the testing section.</li>
</ol>
<h3 id="running-the-main-executable">Running The Main Executable</h3>
<p>The main executable for this project is called Crypto_Project. It should execute any code placed in the <code>crypto_project.c</code> file. Unlike the testing executable, it does not actually have any useful code as of right now. The intention is to allow the grader to put any code they want in there for verification. The <code>ap_int_tests.c</code> file should provide ample examples on how to use the library for whatever is required.</p>
<p>To compile and run the main executable (especially if the cmocka unit testing framework is not installed), please follow these instructions: cd into the build directory, and direct CMake to compile the Crypto_Project executable only like so:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&nbsp;cd&nbsp;build</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&nbsp;cmake&nbsp;..</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&nbsp;cmake&nbsp;--build&nbsp;.&nbsp;--target&nbsp;Crypto_Project&nbsp;--</span></span></span></div></pre><p>To execute the Crypto_Project binary, simply run: <code>./Crypto_Project</code> which by default should print out a header and a single ap-int:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&nbsp;./Crypto_Project</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Introduction&nbsp;to&nbsp;Modern&nbsp;Cryptography:&nbsp;Graduate&nbsp;Project&nbsp;-&nbsp;by&nbsp;Eugene&nbsp;Kovalev</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>398475032987450239</span></span></span></div></pre><p>Please note that after you have compiled the executable the first time, all subsequent builds of the Crypto_Project executable can be done with just the last command <code>$ cmake --build . --target Crypto_Project --</code> as building the CMake Cache should no longer be necessary.</p>
<h2 id="running-unit-tests-grading">Running Unit Tests &amp; Grading</h2>
<p>In general, the file ap_int_tests.c contains a comprehensive list of every single test case that was run on my software. There are a lot of testing functions in there some of which are only indirectly related to the assignment (i.e. the test some sort of functionality that is required to run the test of the assigned problem).</p>
<p>You are encouraged to look through the whole file to see for yourself that the code was tested extensively and that all of it works. The <strong>Testing</strong> section below has a set of precise instructions that demonstrate how to run the set of tests on your machine. If there are any issues compiling and running the code, please feel free to contact me at eugene.kovalev@uconn.edu and I will attempt to resolve them in a way that does not alter the functionality of what I submitted.</p>
<h2 id="testing">Testing</h2>
<p>In order to run the tests, cmocka must be installed, which can be aquired here: <a href="https://cmocka.org/">https://cmocka.org/</a></p>
<h4 id="cmocka-installation-">CMocka Installation:</h4>
<ol>
<li>Download cmocka here: <a href="https://cmocka.org/files/1.0/cmocka-1.0.1.tar.xz">https://cmocka.org/files/1.0/cmocka-1.0.1.tar.xz</a></li>
<li>Extract cmocka:<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&nbsp;tar&nbsp;-xpf&nbsp;cmocka-1.0.1.tar.xz</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&nbsp;cd&nbsp;cmocka-1.0.1</span></span></span></div></pre></li>
<li>Create a build directory: <code>$ mkdir build</code></li>
<li>Go into the build directory and build cmocka:<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&nbsp;cd&nbsp;build</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&nbsp;cmake&nbsp;-DCMAKE_BUILD_TYPE=Release&nbsp;-DCMAKE_C_COMPILER=/usr/bin/cc&nbsp;-DCMAKE_CXX_COMPILER=/usr/bin/c++&nbsp;..</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&nbsp;make</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&nbsp;sudo&nbsp;make&nbsp;install</span></span></span></div></pre></li>
<li>The library should now be built inside the directory as well we being placed inside one of the directories in your path. You can confirm that cmocka has been installed by running <code>$ which cmocka</code>.</li>
</ol>
<h4 id="running-the-tests">Running the Tests</h4>
<p>Arguably the most critical component of this project is running the testing executable. In order to do this, the cmocka library needs to be installed as well as the other packages listed above. Assuming those are installed and functioning properly, you can <code>cd</code> into the root directory of the project and then follow these instructions. Go into the build directory, compile, and run the Test_Crypto_Project exectuable like so:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&nbsp;cd&nbsp;build</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&nbsp;cmake&nbsp;..</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&nbsp;make</span></span></span></div></pre><p>Once this is done, assuming everything ran correctly, the contents of the build directory should look like this:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&nbsp;ls</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>CMakeCache.txt&nbsp;&nbsp;CMakeFiles&nbsp;&nbsp;cmake_install.cmake&nbsp;&nbsp;Crypto_Project&nbsp;&nbsp;Makefile&nbsp;&nbsp;Test_Crypto_Project</span></span></span></div></pre><p>From now on, if you wish to recompile the executable, simply execute: <code>$ cmake .. &amp;&amp; make</code></p>
<p>To run all of the tests, simply execute the testing executable, like so:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>./Test_Crypto_Project</span></span></span></div></pre><p>You are of course free to comment out certain tests to verify specific components of the project. A correct execution of the <code>Test_Crypto_Project</code> executable should produce the following output:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[==========]&nbsp;Running&nbsp;28&nbsp;test(s).</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_addition_overflow_detection</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_addition_overflow_detection</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_multiplication_overflow_detection</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_multiplication_overflow_detection</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_uint32_to_binary_str</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_uint32_to_binary_str</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_debug_printing</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_debug_printing</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_ap_int_addition</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_ap_int_addition</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_ap_int_subtraction</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_ap_int_subtraction</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_ap_int_shift_left</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_ap_int_shift_left</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_ap_int_shift_right</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_ap_int_shift_right</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_ap_int_shift_left_by</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_ap_int_shift_left_by</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_ap_int_multiplication</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_ap_int_multiplication</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_ap_int_from_string</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_ap_int_from_string</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_ap_int_comparison</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_ap_int_comparison</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_ap_int_bitwise_construction</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_ap_int_bitwise_construction</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_ap_int_most_significant_bit_index</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_ap_int_most_significant_bit_index</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_ap_int_shift_right_by</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_ap_int_shift_right_by</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_ap_int_division</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_ap_int_division</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_ap_int_to_decimal_string</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_ap_int_to_decimal_string</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_ap_int_modulus</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_ap_int_modulus</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_ap_int_is_odd</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_ap_int_is_odd</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_ap_int_modular_exponentiation</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_ap_int_modular_exponentiation</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_division_by_two</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_division_by_two</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_random_int</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_random_int</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_random_ap_int</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_random_ap_int</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_ap_int_incrementing_decrementing</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_ap_int_incrementing_decrementing</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_MR_primality_of_ap_int</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_MR_primality_of_ap_int</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_generating_random_factored_ap_int</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_generating_random_factored_ap_int</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_generating_random_prime_factorization</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_generating_random_prime_factorization</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;RUN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;test_prg</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>PSEUDORANDOM:&nbsp;00000000000011000001110110000100</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;PASSED&nbsp;&nbsp;]&nbsp;28&nbsp;test(s).</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK&nbsp;]&nbsp;test_prg</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>[==========]&nbsp;28&nbsp;test(s)&nbsp;run.</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Process&nbsp;finished&nbsp;with&nbsp;exit&nbsp;code&nbsp;0</span></span></span></div></pre><h4 id="time-consuming-tests">Time Consuming Tests</h4>
<p>Several of the tests that are in the Test_Crypto_Project executable are extremely time consuming. Running all of them may take longer than 15 minutes as they attempt to check random functions and etc. Such tests are labeled with the comment:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>//&nbsp;Very&nbsp;time&nbsp;consuming,&nbsp;disable&nbsp;unless&nbsp;necessary</span></span></span></div></pre><p>At submission times, these tests will not be commented out so that when the executable is run, the grader sees that all of the required functions have been written and work properly, however, when testing individual functions those time consuming tests should be disabled by commenting out the entire line which executes the test. This will make testing of individual functions go considerably faster. Other tests not labeled with the comment shown above do not have to be disabled as they can be tested near-instantaneously.</p>
<h4 id="testing-memory-consumption-and-leaks">Testing Memory Consumption and Leaks</h4>
<p>These tests should show that all the functionality of the library is memory safe and leak free. To test this, valgrind must be installed:</p>
<ol>
<li>Install valgrind:<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&nbsp;sudo&nbsp;apt-get&nbsp;install&nbsp;valgrind</span></span></span></div></pre></li>
<li><p>Then from the Cryto-Project directory simply execute:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&nbsp;cmake&nbsp;..&nbsp;&amp;&amp;&nbsp;make&nbsp;clean&nbsp;&amp;&amp;&nbsp;make&nbsp;&amp;&amp;&nbsp;valgrind&nbsp;--leak-check=full&nbsp;./Test_Crypto_Project</span></span></span></div></pre></li>
<li><p>To get a more accurate output in terms of memory leaks (there shouldn&#39;t be any, but if there are) you would need to compile with debug information turned on, which can be done by uncommenting line 9 in the file CMakeLists.txt:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>#set(CMAKE_BUILD_TYPE&nbsp;Debug)</span></span></span></div></pre><p>to be:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>set(CMAKE_BUILD_TYPE&nbsp;Debug)</span></span></span></div></pre><p>and then again executing:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&nbsp;cmake&nbsp;..&nbsp;&amp;&amp;&nbsp;make&nbsp;clean&nbsp;&amp;&amp;&nbsp;make&nbsp;&amp;&amp;&nbsp;valgrind&nbsp;--leak-check=full&nbsp;./Test_Crypto_Project</span></span></span></div></pre></li>
</ol>
<h3 id="tests-as-proof-of-correctness">Tests as Proof of Correctness</h3>
<p>Below is an itemized list of the assigned tasks and their corresponding tests (Please note that the bare minimum requirements are shown in the writeup, if you look at the actual file you will notice that the tests are a <em>lot</em> more extensive than what is shown here):</p>
<ol>
<li><p><strong>Provide a routine to convert a regular machine-precision number into your new format. Provide a routine to print out a number stored in your format:</strong> This requirement is met and demonstrated in the following tests:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>test_ap_int_from_string</span></span></span></div></pre><p>Which clearly demonstrates that we can convert a regular number in decimal format to an arbitrary precision integer: <code>ap_int* a = init_ap_int_with_decimal_string(&quot;987230987450129387412341098&quot;);</code> and then demonstrates that it can be printed out as a binary string: <code>const char* bin_str = ap_int_to_binary_str(a);</code>.</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>test_ap_int_to_decimal_string</span></span></span></div></pre><p>Similarly, this test shows that we can read a decimal string and output a decimal string: <code>a = init_ap_int_with_decimal_string(&quot;987230987450129387412341098&quot;); str = ap_int_to_decimal_str(a,27);</code>.</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>test_ap_int_multiplication</span></span></span></div></pre><p>Finally, this test, besides demonstrating multiplication, also demonstrates that we can print the ap_int as a binary string with the line: <code>const char* bin_str = ap_int_to_binary_str(f);</code></p>
</li>
<li><p><strong>Provide a routine to add and multiply numbers in your format. Your addition routine should take linear time in the length of the numbers; your multiplication algorithm should take time no worse than quadratic in the length of the numbers:</strong> This requirement is met and demonstrated in the following tests:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>test_ap_int_addition</span></span></span></div></pre><p>Which shows us an example of addition using the framework:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>a&nbsp;=&nbsp;init_ap_int_with_decimal_string(&quot;987230987450129387412341098&quot;);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>b&nbsp;=&nbsp;init_ap_int_with_decimal_string(&quot;987230987450129387412341098&quot;);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>c&nbsp;=&nbsp;ap_int_plus_ap_int(a,b);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>debug_str&nbsp;=&nbsp;ap_int_to_binary_str(c);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>assert_string_equal(debug_str,&nbsp;&quot;000001100110000100111100100101100010001001000011100110011100011000111001111100101000001011010100&quot;);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>free((void*)debug_str);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>free_ap_int(a);&nbsp;free_ap_int(b);&nbsp;free_ap_int(c);</span></span></span></div></pre><p>A thorough inspection of the addition method should confirm that it has a linear runtime:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int*&nbsp;ap_int_plus_ap_int(ap_int*&nbsp;a,&nbsp;ap_int*&nbsp;b)&nbsp;//&nbsp;runtime&nbsp;O(n)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>ap_int*&nbsp;c&nbsp;=&nbsp;init_ap_int_with_uint32(0);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;//&nbsp;loop&nbsp;over&nbsp;the&nbsp;components&nbsp;of&nbsp;a&nbsp;and&nbsp;b&nbsp;simultaneously&nbsp;from&nbsp;least&nbsp;to&nbsp;most&nbsp;significant</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int_component*&nbsp;ca&nbsp;=&nbsp;a-&gt;least_significant,&nbsp;*&nbsp;cb&nbsp;=&nbsp;b-&gt;least_significant,&nbsp;*&nbsp;cc&nbsp;=&nbsp;c-&gt;least_significant;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;BOOL&nbsp;overflow;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;while&nbsp;(ca&nbsp;||&nbsp;cb)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>if&nbsp;(ca)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>overflow&nbsp;=&nbsp;ap_int_component_plus_uint32(cc,&nbsp;ca-&gt;integer);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(overflow)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>ap_int_add_component(c,1);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ca&nbsp;=&nbsp;ca-&gt;more_significant;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(cb)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>overflow&nbsp;=&nbsp;ap_int_component_plus_uint32(cc,&nbsp;cb-&gt;integer);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(overflow)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>if&nbsp;(!cc-&gt;more_significant)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>ap_int_add_component(c,0);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;overflow&nbsp;=&nbsp;ap_int_component_plus_uint32(cc-&gt;more_significant,1);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;this&nbsp;operation&nbsp;should&nbsp;never&nbsp;result&nbsp;in&nbsp;an&nbsp;overflow&nbsp;since&nbsp;at&nbsp;this&nbsp;point&nbsp;the&nbsp;maximum&nbsp;value&nbsp;of&nbsp;cc-&gt;more_significant&nbsp;is&nbsp;2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert(!overflow);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cb&nbsp;=&nbsp;cb-&gt;more_significant;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((ca&nbsp;||&nbsp;cb)&nbsp;&amp;&amp;&nbsp;!cc-&gt;more_significant)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>ap_int_add_component(c,0);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cc&nbsp;=&nbsp;cc-&gt;more_significant;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;return&nbsp;c;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>}</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>test_ap_int_multiplication</span></span></span></div></pre><p>Which shows us multiplication under similar circumstances:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int*&nbsp;a&nbsp;=&nbsp;init_ap_int_with_uint32(4294967295);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int*&nbsp;b&nbsp;=&nbsp;init_ap_int_with_uint32(91283749);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int*&nbsp;c&nbsp;=&nbsp;init_ap_int_with_uint32(2355432189);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int*&nbsp;d&nbsp;=&nbsp;ap_int_multiply_ap_int(a,a);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int*&nbsp;e&nbsp;=&nbsp;ap_int_multiply_ap_int(d,b);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int*&nbsp;f&nbsp;=&nbsp;ap_int_multiply_ap_int(e,c);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>const&nbsp;char*&nbsp;bin_str&nbsp;=&nbsp;ap_int_to_binary_str(f);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>assert_string_equal(bin_str,&nbsp;&quot;00000010111110111110000011100100110100101111101100110001110001110101000100010101111110011100001011011000111100101111001110010001&quot;);</span></span></span></div></pre><p>A thorough inspection of the multiplication method should confirm that it runs in quadratic time:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int*&nbsp;ap_int_multiply_ap_int(ap_int*&nbsp;a,&nbsp;ap_int*&nbsp;b)&nbsp;//&nbsp;runtime&nbsp;O(n^2)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>//&nbsp;loop&nbsp;over&nbsp;each&nbsp;bit&nbsp;of&nbsp;a,&nbsp;if&nbsp;its&nbsp;zero&nbsp;do&nbsp;nothing,&nbsp;if&nbsp;its&nbsp;a&nbsp;1,&nbsp;add&nbsp;a&nbsp;shifted&nbsp;copy&nbsp;of&nbsp;b&nbsp;to&nbsp;the&nbsp;aggregator</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int_bitwise_iterator*&nbsp;i&nbsp;=&nbsp;init_ap_bitwise_iterator(a,START);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;aggregator&nbsp;=&nbsp;init_ap_int_with_uint32(0),&nbsp;*&nbsp;new_aggregator,&nbsp;*&nbsp;multiplier;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;multiplier&nbsp;=&nbsp;copy_ap_int(b);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;BOOL&nbsp;bit;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>while&nbsp;(get_more_significant_bit(i,&nbsp;&amp;bit))</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>if&nbsp;(bit)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>new_aggregator&nbsp;=&nbsp;ap_int_plus_ap_int(aggregator,&nbsp;multiplier);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free_ap_int(aggregator);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aggregator&nbsp;=&nbsp;new_aggregator;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ap_int_shift_left(multiplier);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;free_ap_bitwise_iterator(i);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;free_ap_int(multiplier);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;return&nbsp;aggregator;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>}</span></span></span></div></pre></li>
<li><p><strong>Provide a routine to compute, given two arbitrary precision numbers (ap-numbers, for short) the result of division of one by the other. The result should be returned to you as a quotient and a (non-negative) remainder. This should take no more than quadratic time in the length of the numbers:</strong> This requirement is met and demonstrated in the following tests:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>test_ap_int_division</span></span></span></div></pre><p>This test shows us the results of using division in this ap-int library:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>a&nbsp;=&nbsp;init_ap_int_with_decimal_string(&quot;987230987450129387412341098&quot;);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>b&nbsp;=&nbsp;init_ap_int_with_decimal_string(&quot;56298734589302&quot;);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>r&nbsp;=&nbsp;ap_int_divide_by_ap_int(a,b);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>str&nbsp;=&nbsp;ap_int_to_binary_str(r-&gt;quotient);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>assert_string_equal(str,&quot;0000000000000000000011111111001011010010000010101001010111111100&quot;);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>free((void*)str);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>str&nbsp;=&nbsp;ap_int_to_binary_str(r-&gt;remainder);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>assert_string_equal(str,&quot;0000000000000000000111100011000101001001000110000111001101000010&quot;);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>free((void*)str);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int*&nbsp;c&nbsp;=&nbsp;init_ap_int_with_decimal_string(&quot;987230987450129387412341098&quot;);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int*&nbsp;d&nbsp;=&nbsp;init_ap_int_with_decimal_string(&quot;56298734589302&quot;);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>assert_true(ap_int_equal_to_ap_int(a,c));</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>assert_true(ap_int_equal_to_ap_int(b,d));</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>free_ap_int(a);&nbsp;free_ap_int(b);&nbsp;free_ap_int(d);&nbsp;free_ap_int(c);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>free_ap_int(r-&gt;remainder);&nbsp;free_ap_int(r-&gt;quotient);&nbsp;free(r);</span></span></span></div></pre><p>A thorough inspection should confirm that the runtime of the division algorithm is no more than quadratic:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int_division_result*&nbsp;ap_int_divide_by_ap_int(ap_int*&nbsp;N,&nbsp;ap_int*&nbsp;D)&nbsp;//&nbsp;runtime&nbsp;O(n^2)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>//&nbsp;if&nbsp;D&nbsp;is&nbsp;2,&nbsp;which&nbsp;we&nbsp;can&nbsp;check&nbsp;in&nbsp;constant&nbsp;time,&nbsp;we&nbsp;can&nbsp;save&nbsp;a&nbsp;lot&nbsp;of&nbsp;time</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;//&nbsp;by&nbsp;using&nbsp;a&nbsp;dedicated&nbsp;divide&nbsp;by&nbsp;two&nbsp;method.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;if&nbsp;(ap_int_equal_to_uint32(D,2))&nbsp;return&nbsp;ap_int_divide_by_two(N);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;//&nbsp;if&nbsp;D&nbsp;is&nbsp;1,&nbsp;then&nbsp;just&nbsp;return&nbsp;(N,0)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;if&nbsp;(ap_int_equal_to_uint32(D,1))</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>ap_int_division_result*&nbsp;result&nbsp;=&nbsp;(ap_int_division_result*)malloc(sizeof(ap_int_division_result));</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result-&gt;quotient&nbsp;=&nbsp;copy_ap_int(N);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result-&gt;remainder&nbsp;=&nbsp;init_ap_int_with_uint32(0);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;//&nbsp;if&nbsp;D&nbsp;is&nbsp;0,&nbsp;freak&nbsp;the&nbsp;hell&nbsp;out</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;if&nbsp;(ap_int_equal_to_uint32(D,0))&nbsp;return&nbsp;NULL;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;//&nbsp;if&nbsp;N&nbsp;&lt;&nbsp;D,&nbsp;then&nbsp;just&nbsp;return&nbsp;(0,N)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;if&nbsp;(ap_int_less_than_ap_int(N,&nbsp;D))&nbsp;//&nbsp;O(n)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>ap_int_division_result*&nbsp;result&nbsp;=&nbsp;(ap_int_division_result*)malloc(sizeof(ap_int_division_result));</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result-&gt;quotient&nbsp;=&nbsp;init_ap_int_with_uint32(0);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result-&gt;remainder&nbsp;=&nbsp;copy_ap_int(N);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>//&nbsp;Otherwise&nbsp;actually&nbsp;execute&nbsp;the&nbsp;division</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;Q&nbsp;=&nbsp;init_ap_int_with_uint32(0);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;for&nbsp;(uint64_t&nbsp;i&nbsp;=&nbsp;N-&gt;size&nbsp;-&nbsp;1;&nbsp;i;&nbsp;i--)&nbsp;ap_int_add_component(Q,0);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;R&nbsp;=&nbsp;init_ap_int_with_uint32(0);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;t;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int_bitwise_iterator*&nbsp;iter_n&nbsp;=&nbsp;init_ap_bitwise_iterator(N,&nbsp;FINISH);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int_bitwise_iterator*&nbsp;iter_q&nbsp;=&nbsp;init_ap_bitwise_iterator(Q,&nbsp;FINISH);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;uint32_t&nbsp;n&nbsp;=&nbsp;0;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>while(get_less_significant_bit(iter_n,&nbsp;(BOOL*)&amp;n))</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>ap_int_shift_left(R);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ap_int_plus_uint32(R,n);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>if&nbsp;(ap_int_geq_ap_int(R,D))</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>t&nbsp;=&nbsp;ap_int_minus_ap_int(R,D);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free_ap_int(R);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R&nbsp;=&nbsp;t;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set_current_bit_move_less_sig(iter_q,&nbsp;TRUE);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>set_current_bit_move_less_sig(iter_q,&nbsp;FALSE);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>free_ap_bitwise_iterator(iter_n);&nbsp;free_ap_bitwise_iterator(iter_q);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>ap_int_division_result*&nbsp;r&nbsp;=&nbsp;(ap_int_division_result*)malloc(sizeof(ap_int_division_result));</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>strip_significant_zeroes_from_ap_int(Q);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;strip_significant_zeroes_from_ap_int(R);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>r-&gt;quotient&nbsp;=&nbsp;Q;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;r-&gt;remainder&nbsp;=&nbsp;R;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>return&nbsp;r;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>}</span></span></span></div></pre></li>
<li><p><strong>Provide a routine to compute a^b \bmod c for three ap-numbers a, b, and c. This should take polynomial time in the lengths of the numbers (so a cubic time algorithm is fine):</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>test_ap_int_modular_exponentiation</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>a&nbsp;=&nbsp;init_ap_int_with_decimal_string(&quot;982984509432852348751342134235412341234232&quot;);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>b&nbsp;=&nbsp;init_ap_int_with_decimal_string(&quot;98324750923847502&quot;);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>c&nbsp;=&nbsp;init_ap_int_with_decimal_string(&quot;3211324234234324924102489098321&quot;);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>d&nbsp;=&nbsp;ap_int_modular_exponentiation(a,&nbsp;b,&nbsp;c);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>str&nbsp;=&nbsp;ap_int_to_decimal_str(d,31);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>assert_string_equal(str,&quot;2146333580357975467844001322588&quot;);</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int*&nbsp;ap_int_modular_exponentiation(ap_int*&nbsp;base,&nbsp;ap_int*&nbsp;exponent,&nbsp;ap_int*&nbsp;modulus)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>if&nbsp;(ap_int_equal_to_uint32(modulus,&nbsp;1))</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>return&nbsp;init_ap_int_with_uint32(0);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;result&nbsp;=&nbsp;init_ap_int_with_uint32(1);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;t,&nbsp;*&nbsp;exp&nbsp;=&nbsp;copy_ap_int(exponent);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;b&nbsp;=&nbsp;ap_int_mod_ap_int(base,&nbsp;modulus);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>while(ap_int_greater_than_uint32(exp,0))</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>if&nbsp;(ap_int_is_odd(exp))</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>t&nbsp;=&nbsp;ap_int_multiply_ap_int(result,&nbsp;b);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free_ap_int(result);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;ap_int_mod_ap_int(t,&nbsp;modulus);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free_ap_int(t);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ap_int_shift_right(exp);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;=&nbsp;ap_int_multiply_ap_int(b,&nbsp;b);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free_ap_int(b);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;=&nbsp;ap_int_mod_ap_int(t,&nbsp;modulus);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free_ap_int(t);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>free_ap_int(exp);&nbsp;free_ap_int(b);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>return&nbsp;result;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>}</span></span></span></div></pre></li>
<li><p><strong>Provide an implementation of the Miller-Rabin randomized primality test. This takes an ap-number as input and determines if it is prime; ensure that your algorithm errs with probability no more than 1/2^{10}. (The algorithm is described in detail in your textbook.):</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>test_MR_primality_of_ap_int</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>a&nbsp;=&nbsp;init_ap_int_with_decimal_string(&quot;29996224275833&quot;);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>assert_true(probably_prime_MR(a,&nbsp;5));</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>BOOL&nbsp;probably_prime_MR(ap_int*&nbsp;potential_prime,&nbsp;uint64_t&nbsp;iterations)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>if&nbsp;(ap_int_equal_to_uint32(potential_prime,2)&nbsp;||&nbsp;ap_int_equal_to_uint32(potential_prime,3))</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>return&nbsp;TRUE;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>if&nbsp;(ap_int_equal_to_uint32(potential_prime,0)&nbsp;||&nbsp;ap_int_equal_to_uint32(potential_prime,1)&nbsp;||&nbsp;!ap_int_is_odd(potential_prime))</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>return&nbsp;FALSE;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>ap_int_division_result*&nbsp;t_dr;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;s&nbsp;=&nbsp;ap_int_minus_uint32(potential_prime,1);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;p_1&nbsp;=&nbsp;ap_int_minus_uint32(potential_prime,1);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;tt_api;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;t_api;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;rand_api;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;while&nbsp;(!ap_int_is_odd(s))</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>t_dr&nbsp;=&nbsp;ap_int_divide_by_two(s);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free_ap_int(s);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;=&nbsp;t_dr-&gt;quotient;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free_ap_int(t_dr-&gt;remainder);&nbsp;free(t_dr);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;min&nbsp;=&nbsp;init_ap_int_with_uint32(2);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;mod;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;for(uint64_t&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;iterations;&nbsp;i++)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>rand_api&nbsp;=&nbsp;random_ap_int_in_range(min,p_1);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t_api&nbsp;=&nbsp;copy_ap_int(s);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mod&nbsp;=&nbsp;ap_int_modular_exponentiation(rand_api,&nbsp;t_api,&nbsp;potential_prime);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free_ap_int(rand_api);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>while&nbsp;(!ap_int_equal_to_ap_int(t_api,&nbsp;p_1)&nbsp;&amp;&amp;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>!ap_int_equal_to_uint32(mod,&nbsp;1)&nbsp;&amp;&amp;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!ap_int_equal_to_ap_int(mod,&nbsp;p_1))</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>tt_api&nbsp;=&nbsp;ap_int_modular_exponentiation(mod,min,potential_prime);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free_ap_int(mod);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mod&nbsp;=&nbsp;tt_api;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ap_int_shift_left(t_api);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!ap_int_equal_to_ap_int(mod,&nbsp;p_1)&nbsp;&amp;&amp;&nbsp;!ap_int_is_odd(t_api))</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>free_ap_int(mod);&nbsp;free_ap_int(t_api);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free_ap_int(p_1);&nbsp;free_ap_int(min);&nbsp;free_ap_int(s);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;COMPOSITE;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free_ap_int(mod);&nbsp;free_ap_int(t_api);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;free_ap_int(p_1);&nbsp;free_ap_int(min);&nbsp;free_ap_int(s);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;return&nbsp;PROBABLY_PRIME;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>}</span></span></span></div></pre></li>
<li><p><strong>Provide an implementation of A. Kalai&#39;s algorithm for generating a random factored integer. The algorithm is described in the (one-page) paper posted below. This algorithm, given an ap-number N, returns a random number R in the range 1\ldots N along with a factorization of the number in to primes. (You will need to use your primality algorithm from above.):</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>test_generating_random_factored_ap_int</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int*&nbsp;min&nbsp;=&nbsp;init_ap_int_with_uint32(0);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int*&nbsp;max&nbsp;=&nbsp;init_ap_int_with_decimal_string(&quot;1342134235412341234232&quot;);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int_prime_factorization*&nbsp;f&nbsp;=&nbsp;random_factored_number(max,&nbsp;10);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>assert_true(ap_int_leq_ap_int(f-&gt;number,&nbsp;max)&nbsp;&amp;&amp;&nbsp;ap_int_geq_ap_int(f-&gt;number,&nbsp;min));</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>free_ap_int(min);&nbsp;free_ap_int(max);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>for&nbsp;(uint32_t&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;f-&gt;num_factors;&nbsp;i++)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>assert_true(probably_prime_MR(f-&gt;prime_factors[i],&nbsp;100));</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;free_ap_int(f-&gt;prime_factors[i]);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>free(f-&gt;prime_factors);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>free_ap_int(f-&gt;number);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>free(f);</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int_prime_factorization*&nbsp;random_factored_number(ap_int*&nbsp;max,&nbsp;uint64_t&nbsp;prime_certainty_index)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>ap_int**&nbsp;prime_factor_candidates&nbsp;=&nbsp;(ap_int**)malloc(sizeof(ap_int*)&nbsp;*&nbsp;NUM_FACTORIZATION_CANDIDATES);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;int_arraylist*&nbsp;primes&nbsp;=&nbsp;init_arraylist();</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;one&nbsp;=&nbsp;init_ap_int_with_uint32(1);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>ap_int_prime_factorization*&nbsp;result&nbsp;=&nbsp;(ap_int_prime_factorization*)malloc(sizeof(ap_int_prime_factorization));</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;while&nbsp;(primes-&gt;size&nbsp;==&nbsp;0)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>//&nbsp;Generate&nbsp;the&nbsp;candidate&nbsp;factors,&nbsp;and&nbsp;pick&nbsp;out&nbsp;the&nbsp;primes.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(uint32_t&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;NUM_FACTORIZATION_CANDIDATES;&nbsp;i++)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>prime_factor_candidates[i]&nbsp;=&nbsp;random_ap_int_in_range(one,&nbsp;max);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(probably_prime_MR(prime_factor_candidates[i],&nbsp;prime_certainty_index))</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>arraylist_append(primes,&nbsp;i);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!primes-&gt;size)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>for&nbsp;(uint32_t&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;NUM_FACTORIZATION_CANDIDATES;&nbsp;i++)</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>free_ap_int(prime_factor_candidates[i]);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>free_arraylist(primes);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;primes&nbsp;=&nbsp;init_arraylist();</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>result-&gt;num_factors&nbsp;=&nbsp;primes-&gt;size;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;result-&gt;prime_factors&nbsp;=&nbsp;(ap_int**)malloc(sizeof(ap_int*)&nbsp;*&nbsp;result-&gt;num_factors);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;uint32_t&nbsp;j&nbsp;=&nbsp;0;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>for&nbsp;(uint32_t&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;NUM_FACTORIZATION_CANDIDATES;&nbsp;i++)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>if&nbsp;(i&nbsp;==&nbsp;arraylist_get(primes,j))</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>assert(primes-&gt;size&nbsp;&gt;&nbsp;0);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result-&gt;prime_factors[j++]&nbsp;=&nbsp;prime_factor_candidates[i];</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>free_ap_int(prime_factor_candidates[i]);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;assert(j&nbsp;==&nbsp;primes-&gt;size);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;assert(j&nbsp;==&nbsp;result-&gt;num_factors);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;free(prime_factor_candidates);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;free_arraylist(primes);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>result-&gt;number&nbsp;=&nbsp;init_ap_int_with_uint32(1);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;t_api;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>for&nbsp;(uint32_t&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;result-&gt;num_factors;&nbsp;i++)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>t_api&nbsp;=&nbsp;result-&gt;number;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result-&gt;number&nbsp;=&nbsp;ap_int_multiply_ap_int(t_api,&nbsp;result-&gt;prime_factors[i]);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free_ap_int(t_api);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>if&nbsp;(ap_int_leq_ap_int(result-&gt;number,&nbsp;max)&nbsp;&amp;&amp;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>ap_int_geq_ap_int(result-&gt;number,&nbsp;one)&nbsp;&amp;&amp;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result-&gt;num_factors&nbsp;&gt;&nbsp;1)</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>free_ap_int(one);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;else&nbsp;//&nbsp;free&nbsp;the&nbsp;results&nbsp;and&nbsp;call&nbsp;the&nbsp;method&nbsp;again</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>free_ap_int(one);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free_ap_int(result-&gt;number);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(uint32_t&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;result-&gt;num_factors;&nbsp;i++)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>free_ap_int(result-&gt;prime_factors[i]);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free(result-&gt;prime_factors);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free(result);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>return&nbsp;random_factored_number(max,&nbsp;prime_certainty_index);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>}</span></span></span></div></pre></li>
<li><p><strong>Provide an algorithm that generates a random prime p (uniformly in a given range 1...N) along with the factorization of p-1. To do this, generate m at random (with its factorization) and then test to see if m+1 is prime. If so, you&#39;ve found the pair that you need:</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>test_generating_random_prime_factorization</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int*&nbsp;max&nbsp;=&nbsp;init_ap_int_with_decimal_string(&quot;1342134235412341234232&quot;);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int_prime_factorization*&nbsp;f;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>for&nbsp;(uint32_t&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;5;&nbsp;i++)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>f&nbsp;=&nbsp;random_prime_factorization(max,&nbsp;10);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;assert_true(ap_int_leq_ap_int(f-&gt;number,&nbsp;max));</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;assert_true(probably_prime_MR(f-&gt;number,&nbsp;10));</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;for&nbsp;(uint32_t&nbsp;j&nbsp;=&nbsp;0;&nbsp;j&nbsp;&lt;&nbsp;f-&gt;num_factors;&nbsp;j++)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>assert_true(probably_prime_MR(f-&gt;prime_factors[j],&nbsp;10));</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;assert(f-&gt;num_factors&nbsp;&gt;&nbsp;0);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;free_ap_int(f-&gt;number);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;for&nbsp;(uint32_t&nbsp;j&nbsp;=&nbsp;0;&nbsp;j&nbsp;&lt;&nbsp;f-&gt;num_factors;&nbsp;j++)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>free_ap_int(f-&gt;prime_factors[j]);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;free(f-&gt;prime_factors);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;free(f);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>free_ap_int(max);</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int_prime_factorization*&nbsp;random_prime_factorization(ap_int*&nbsp;max,&nbsp;uint64_t&nbsp;prime_certainty_index)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>while&nbsp;(42)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>ap_int_prime_factorization*&nbsp;m&nbsp;=&nbsp;random_factored_number(max,&nbsp;prime_certainty_index);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ap_int_plus_uint32(m-&gt;number,&nbsp;1);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(probably_prime_MR(m-&gt;number,&nbsp;prime_certainty_index))</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>return&nbsp;m;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>free_ap_int(m-&gt;number);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(uint32_t&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;m-&gt;num_factors;&nbsp;i++)</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>free_ap_int(m-&gt;prime_factors[i]);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>free(m-&gt;prime_factors);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free(m);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>}</span></span></span></div></pre></li>
<li><p><strong>Using the algorithm above, give an algorithm that can produce a random prime p (in a given range 1...N) and then generate a generator for the multiplicative group \mathbb{Z}/p^*. To do this, you will need to know the factorization of p-1. Then, repeat the following until it succeeds: guess a random number g less than p. Check that g^\alpha \neq 1 \pmod{p} for all numbers \alpha that can be written (p-1)/q where q is a prime dividing p-1. If g passes this test, it is a generator:</strong> - This assignment does not have a method for testing it directly, but is instead tested as part of the algorithm for the following exercise.</p>
</li>
<li><p><strong>Finally, implement the following (proposed) pseudorandom generator. Select a prime p at random as above (in a large interval 1...N), so that you also have the factorization of the number p-1. Select a generator g for the multiplicative group at random. Select a random seed s of the multiplicative group. Consider the sequence s_0 = s, s_1 = g^{s<em>0} \pmod{p}, ..., s</em>{i+1} = g^{s_i} \pmod{p},.... Define b_i = \operatorname{MSB}(p_i), where \operatorname{MSB} denotes the &quot;most significant bit&quot; which is defined to 1 in this setting if the argument is more than p/2 and zero otherwise. Your algorithm should produce any desired number of such output bits (the b_i):</strong></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>test_prg</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int*&nbsp;a&nbsp;=&nbsp;init_ap_int_with_decimal_string(&quot;1342134235412341234232&quot;);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int*&nbsp;pseudorandom&nbsp;=&nbsp;prg(a,20);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>const&nbsp;char*&nbsp;str&nbsp;=&nbsp;ap_int_to_binary_str(pseudorandom);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>printf(&quot;PSEUDORANDOM:&nbsp;%s\n&quot;,&nbsp;str);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>assert_true(strlen(str)&nbsp;==&nbsp;32);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>free((void*)str);&nbsp;free_ap_int(pseudorandom);</span></span></span></div></pre><pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ap_int*&nbsp;prg(ap_int*&nbsp;N,&nbsp;uint64_t&nbsp;num_bits_to_generate)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>ap_int*&nbsp;zero&nbsp;=&nbsp;init_ap_int_with_uint32(0);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;s&nbsp;=&nbsp;basic_random_ap_int_of_maxsize(N-&gt;size&nbsp;*&nbsp;1000,0);&nbsp;//&nbsp;generates&nbsp;a&nbsp;large&nbsp;random&nbsp;seed&nbsp;that&#39;s&nbsp;less&nbsp;than&nbsp;1000&nbsp;times&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;prime&nbsp;range</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;temp;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int_prime_factorization*&nbsp;f&nbsp;=&nbsp;random_prime_factorization(N,10);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;p&nbsp;=&nbsp;f-&gt;number;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int*&nbsp;g&nbsp;=&nbsp;generator_for_prime_ap_int(f);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>ap_int*&nbsp;result&nbsp;=&nbsp;init_ap_int_with_uint32(0);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;ap_int_bitwise_iterator*&nbsp;iter&nbsp;=&nbsp;init_ap_bitwise_iterator(result,&nbsp;START);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;set_current_bit_move_more_sig(iter,&nbsp;lsb_of_msc(s));</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>for&nbsp;(uint64_t&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;num_bits_to_generate&nbsp;-&nbsp;1;&nbsp;i++)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>temp&nbsp;=&nbsp;ap_int_modular_exponentiation(g,s,p);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free_ap_int(s);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;=&nbsp;temp;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set_current_bit_move_more_sig(iter,&nbsp;lsb_of_msc(s));</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>free_ap_bitwise_iterator(iter);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;free_ap_int(f-&gt;number);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;for&nbsp;(uint32_t&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;f-&gt;num_factors;&nbsp;i++)</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>free_ap_int(f-&gt;prime_factors[i]);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>free(f-&gt;prime_factors);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;free(f);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;free_ap_int(s);&nbsp;free_ap_int(g);&nbsp;free_ap_int(zero);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>return&nbsp;result;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>}</span></span></span></div></pre></li>
</ol></body>
</html>
